# ---
# version: "3.7"

# x-options: &options
#   profiles:
#     - &profile auth
#   environment: &environment
#     TZ: "${TIMEZONE}"
#   restart: unless-stopped
#   networks:
#     - default

# services:
#   # authelia:
#   #   <<: *options
#   #   image: ghcr.io/authelia/authelia:4.37
#   #   container_name: authelia
#   #   environment:
#   #     <<: *environment
#   #     AUTHELIA_JWT_SECRET_FILE: /app/secrets/JWT_SECRET
#   #     AUTHELIA_AUTHENTICATION_BACKEND_LDAP_PASSWORD_FILE: /app/secrets/LDAP_PASSWORD
#   #     AUTHELIA_IDENTITY_PROVIDERS_OIDC_HMAC_SECRET_FILE: /app/secrets/OIDC_HMAC_SECRET
#   #     AUTHELIA_IDENTITY_PROVIDERS_OIDC_ISSUER_PRIVATE_KEY_FILE: /app/secrets/OIDC_ISSUER_PRIVATE_KEY
#   #     AUTHELIA_SESSION_REDIS_PASSWORD_FILE: /app/secrets/REDIS_PASSWORD
#   #     AUTHELIA_SESSION_SECRET_FILE: /app/secrets/SESSION_SECRET
#   #     AUTHELIA_STORAGE_ENCRYPTION_KEY_FILE: /app/secrets/STORAGE_ENCRYPTION_KEY
#   #     AUTHELIA_STORAGE_POSTGRES_PASSWORD_FILE: /app/secrets/POSTGRES_PASSWORD
#   #     # AUTHELIA_NOTIFIER_SMTP_PASSWORD_FILE: /app/secrets/SMTP_PASSWORD
#   #   volumes:
#   #     - ./authelia:/config
#   #   labels:
#   #     traefik.enable: "true"
#   #     traefik.http.routers.authelia.tls.certresolver: private
#   #     traefik.http.routers.authelia.rule: Host(`auth.${PRIVATE_DOMAIN}`)
#   #     traefik.http.services.authelia.loadbalancer.server.port: 9091
#   #     traefik.http.services.authelia.loadbalancer.server.scheme: http
#   #     traefik.http.middlewares.authelia.forwardauth.address: http://authelia:9091/api/authz/forward-auth?authelia_url=https://authelia.example.com"
#   #     traefik.http.middlewares.authelia.forwardauth.trustForwardHeader: true
# #     traefik.http.middlewares.authelia.forwardauth.authResponseHeaders: Remote-User,Remote-Groups,Remote-Name,Remote-Email"
